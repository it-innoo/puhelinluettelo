{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","components/Warning.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","person","onClickHandler","react_default","a","createElement","name","number","onClick","id","Persons","_ref2","persons","showNames","filter","toLowerCase","startsWith","map","Persons_Person","key","PersonForm","props","onSubmit","submitHandler","value","onChange","onNameChange","onNumberChange","type","Filter","InputGroup","InputGroupAddon","addonType","Input","namesToShow","onChangeHandler","Notification","message","className","Warning","baseUrl","services_persons","axios","get","then","response","data","concat","newObject","post","delete","put","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setShowNames","_useState9","_useState10","noteMessage","setNoteMessage","_useState11","_useState12","warnMessage","setWarnMessage","useEffect","personService","allNames","components_Notification","components_Warning","components_Filter","event","target","components_PersonForm","preventDefault","personObject","find","p","console","log","undefined","window","confirm","changedPerson","objectSpread","returnedPerson","setTimeout","catch","error","newPerson","JSON","stringify","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4b42af18.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ( {person, onClickHandler} ) => {\n  return (<li>\n    {person.name} {person.number}\n    <button onClick={onClickHandler(person.id)}>Poista</button>\n  </li>);\n}\n  \nconst Persons = ( {persons,showNames,onClickHandler} ) => {\n    return (\n      <div>\n        <ul>\n          {persons\n            .filter(person => \n              person.name\n              .toLowerCase()\n              .startsWith(showNames))\n            .map(person =>\n              <Person\n                key={person.id}\n                person={person}\n                onClickHandler={onClickHandler}\n              />\n          )}\n        </ul>\n      </div>\n    )\n}\n\n  \nexport default Persons","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n      <form onSubmit={props.submitHandler}>\n        <div>\n          Nimi: \n          <input\n            value={props.name}\n            onChange={props.onNameChange}\n          />\n        </div>\n  \n        <div>\n          numero:\n          <input\n            value={props.number}\n            onChange={props.onNumberChange}\n          />\n        </div>\n  \n        <div>\n          <button type=\"submit\">lisää</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\nimport { Input, InputGroup, InputGroupAddon } from 'reactstrap'\n\nconst Filter = (props) => {\n    return (\n      \n        <InputGroup>\n          <InputGroupAddon\n            addonType=\"prepend\">Rajaa näytettäviä\n          </InputGroupAddon>\n          <Input\n            type=\"text\"\n            value={props.namesToShow}\n            onChange={props.onChangeHandler}\n          />\n      </InputGroup>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n\n    if (message === null) {\n      return null\n    }\n  \n    let clazz = 'note'\n    return (\n      <div className={clazz}>\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import React from 'react'\n\nconst Warning = ({ message }) => {\n\n    if (message === null) {\n      return null\n    }\n  \n    let clazz = 'error'\n    return (\n      <div className={clazz}>\n        {message}\n      </div>\n    )\n  }\n\n  export default Warning","import axios from 'axios'\nconst baseUrl = '/api/persons'\n//const baseUrl = 'https://fierce-gorge-18185.herokuapp.com/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst getOne = id => {\n    const request = axios.get(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteOne = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\n\nexport default {getAll, getOne, create, deleteOne, update}\n","import React, { useState, useEffect } from 'react';\n\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport Warning from './components/Warning'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ showNames, setShowNames ] = useState('')\n  const [ noteMessage, setNoteMessage] = useState(null)\n  const [ warnMessage, setWarnMessage] = useState(null)\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(allNames => {\n        setPersons(allNames)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const addPerson = (event) => {\n\n    event.preventDefault()\n    const personObject = {\n      name : newName,\n      number : newNumber\n    }\n\n    const person = persons.find(p => p.name === personObject.name)\n\n    console.log(`frontend: ${person}`)\n    if (person !== undefined) {\n      if (window.confirm(`${person.name} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const changedPerson = { ...person, number: newNumber}\n        \n        personService\n          .update(person.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(\n              persons\n                .map(\n                  p => p.id !== person.id ? p : returnedPerson\n                  )\n            )\n\n            setNoteMessage(`Muokattiin ${person.name}`)\n            setTimeout(() => {\n              setNoteMessage(null)\n            }, 5000)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            setWarnMessage(\n              `Henkilö '${person.name}' on jo valitettavasti poistettu palvelimelta`\n            )\n            setPersons(persons.filter(p => p.id !== person.id))\n            setTimeout(() => {\n              setWarnMessage(null)\n            }, 5000)\n            setNewName('')\n            setNewNumber('')\n          })\n      }\n      } else {\n        personService\n          .create(personObject)\n          .then(newPerson => {\n            setPersons(persons.concat(newPerson))\n            setNoteMessage(`Lisättiin ${newPerson.name}`)\n            setTimeout(() => {\n              setNoteMessage(null)\n            }, 5000)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            console.log('frontend create error: ', JSON.stringify(error.response.data))\n            setWarnMessage(\n              error.response.data.error\n            )\n            setTimeout(() => {\n              setWarnMessage(null)\n            }, 5000)\n          })\n      \n    }\n\n  }\n\n  const handleDelete = (id) => (event) => {\n    \n    personService\n      .getOne(id)\n      .then(p => {\n        if (window.confirm(`Poistetaanko ${p.name}`)) {\n          personService.deleteOne(id)\n          setNoteMessage(\n            `${p.name} yhteystieto poistettu`\n          )\n          setPersons(persons.filter(p => p.id !== id))\n          setTimeout(() => {\n            setNoteMessage(null)\n          }, 5000)\n        }\n        \n      })\n    \n  }\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setShowNames(event.target.value)\n  }\n\n  return (\n    \n    <div className=\"app\">\n      <h2>Puhelinluettelo</h2>\n      \n      <Notification message={noteMessage} />\n      <Warning message={warnMessage} />\n\n      <Filter\n        value={showNames}\n        onChangeHandler={handleFilter}\n      />\n\n      <h3>Lisää uusi</h3>\n      <PersonForm\n        name={newName}\n        onNameChange={handleNameChange}\n        number={newNumber}\n        onNumberChange={handleNumberChange}\n        submitHandler={addPerson}\n      />\n\n      <h3>Numerot</h3>\n        <Persons\n          persons={persons}\n          showNames={showNames}\n          onClickHandler = {handleDelete}\n        />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}